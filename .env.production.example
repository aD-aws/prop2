# UK Home Improvement Platform - Production Environment Configuration
# Copy this file to .env.production and update with actual values

# ========================================
# AWS Configuration
# ========================================
AWS_REGION=eu-west-2
AWS_ACCOUNT_ID=123456789012

# ========================================
# Application Configuration
# ========================================
NODE_ENV=production
NEXT_PUBLIC_APP_ENV=production
NEXT_PUBLIC_APP_VERSION=1.0.0

# Domain and URLs
NEXT_PUBLIC_DOMAIN=yourdomain.com
NEXT_PUBLIC_APP_URL=https://yourdomain.com
NEXT_PUBLIC_API_URL=https://api.yourdomain.com

# ========================================
# AWS Services Configuration
# ========================================

# Cognito
NEXT_PUBLIC_COGNITO_USER_POOL_ID=eu-west-2_XXXXXXXXX
NEXT_PUBLIC_COGNITO_USER_POOL_CLIENT_ID=XXXXXXXXXXXXXXXXXXXXXXXXXX
NEXT_PUBLIC_COGNITO_IDENTITY_POOL_ID=eu-west-2:XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX

# DynamoDB Tables
DYNAMODB_USERS_TABLE=uk-home-improvement-users
DYNAMODB_PROJECTS_TABLE=uk-home-improvement-projects
DYNAMODB_PROPERTIES_TABLE=uk-home-improvement-properties
DYNAMODB_BUILDERS_TABLE=uk-home-improvement-builders
DYNAMODB_QUOTES_TABLE=uk-home-improvement-quotes
DYNAMODB_CONTRACTS_TABLE=uk-home-improvement-contracts
DYNAMODB_PAYMENTS_TABLE=uk-home-improvement-payments
DYNAMODB_AI_AGENTS_TABLE=uk-home-improvement-ai-agents
DYNAMODB_AI_PROMPTS_TABLE=uk-home-improvement-ai-prompts

# S3
S3_FILE_STORAGE_BUCKET=uk-home-improvement-files-123456789012

# EventBridge
EVENTBRIDGE_SYSTEM_BUS=uk-home-improvement-system-events

# Step Functions
STEPFUNCTIONS_AI_WORKFLOW_ARN=arn:aws:states:eu-west-2:123456789012:stateMachine:uk-home-improvement-ai-workflow

# ========================================
# Secrets Manager ARNs
# ========================================
SECRETS_STRIPE_ARN=arn:aws:secretsmanager:eu-west-2:123456789012:secret:uk-home-improvement/stripe-XXXXXX
SECRETS_DOCUSIGN_ARN=arn:aws:secretsmanager:eu-west-2:123456789012:secret:uk-home-improvement/docusign-XXXXXX
SECRETS_CLAUDE_ARN=arn:aws:secretsmanager:eu-west-2:123456789012:secret:uk-home-improvement/claude-XXXXXX

# ========================================
# External Services Configuration
# ========================================

# Stripe (use Secrets Manager in production)
# STRIPE_PUBLISHABLE_KEY=pk_live_...
# STRIPE_SECRET_KEY=sk_live_...
# STRIPE_WEBHOOK_SECRET=whsec_...

# DocuSign (use Secrets Manager in production)
# DOCUSIGN_INTEGRATION_KEY=...
# DOCUSIGN_USER_ID=...
# DOCUSIGN_ACCOUNT_ID=...
# DOCUSIGN_BASE_URL=https://na3.docusign.net/restapi

# Claude AI (use Secrets Manager in production)
# CLAUDE_API_KEY=...
# CLAUDE_MODEL=claude-3-sonnet-20240229
# CLAUDE_MAX_TOKENS=4096

# ========================================
# Monitoring and Alerting
# ========================================
CLOUDWATCH_LOG_GROUP_APPLICATION=/uk-home-improvement/application
CLOUDWATCH_LOG_GROUP_API=/aws/apigateway/uk-home-improvement-api
CLOUDWATCH_LOG_GROUP_LAMBDA=/aws/lambda/uk-home-improvement

SNS_CRITICAL_ALERTS_TOPIC=arn:aws:sns:eu-west-2:123456789012:uk-home-improvement-critical-alerts
SNS_WARNING_ALERTS_TOPIC=arn:aws:sns:eu-west-2:123456789012:uk-home-improvement-warning-alerts

# ========================================
# Security Configuration
# ========================================
KMS_ENCRYPTION_KEY_ID=arn:aws:kms:eu-west-2:123456789012:key/XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX

# WAF
WAF_WEB_ACL_ARN=arn:aws:wafv2:us-east-1:123456789012:global/webacl/uk-home-improvement-web-acl/XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX

# ========================================
# Performance Configuration
# ========================================

# Lambda Configuration
LAMBDA_MEMORY_SIZE=1024
LAMBDA_TIMEOUT=900
LAMBDA_RESERVED_CONCURRENCY=100

# DynamoDB Configuration
DYNAMODB_READ_CAPACITY=5
DYNAMODB_WRITE_CAPACITY=5
DYNAMODB_AUTO_SCALING_ENABLED=true

# API Gateway Configuration
API_GATEWAY_THROTTLE_RATE=1000
API_GATEWAY_THROTTLE_BURST=2000

# ========================================
# Feature Flags
# ========================================
FEATURE_AI_AGENTS_ENABLED=true
FEATURE_PAYMENT_PROCESSING_ENABLED=true
FEATURE_CONTRACT_GENERATION_ENABLED=true
FEATURE_BUILDER_ANALYTICS_ENABLED=true
FEATURE_PLANNING_PERMISSION_MINING_ENABLED=true
FEATURE_DOCUSIGN_INTEGRATION_ENABLED=true

# ========================================
# Business Configuration
# ========================================

# Pricing
HOMEOWNER_BASIC_PRICE=2999  # £29.99 in pence
HOMEOWNER_PREMIUM_PRICE=4999  # £49.99 in pence
BUILDER_SUBSCRIPTION_PRICE=9999  # £99.99 in pence
LEAD_PURCHASE_PRICE=1999  # £19.99 in pence

# Limits
MAX_PROJECTS_PER_HOMEOWNER=10
MAX_QUOTES_PER_PROJECT=5
MAX_BUILDERS_PER_LEAD=3
QUOTE_EXPIRY_DAYS=30

# ========================================
# Email Configuration
# ========================================
SES_REGION=eu-west-2
SES_FROM_EMAIL=noreply@yourdomain.com
SES_REPLY_TO_EMAIL=support@yourdomain.com

# ========================================
# Rate Limiting
# ========================================
RATE_LIMIT_WINDOW_MS=900000  # 15 minutes
RATE_LIMIT_MAX_REQUESTS=100
RATE_LIMIT_SKIP_SUCCESSFUL_REQUESTS=true

# ========================================
# Logging Configuration
# ========================================
LOG_LEVEL=info
LOG_FORMAT=json
LOG_RETENTION_DAYS=30

# ========================================
# Backup Configuration
# ========================================
BACKUP_VAULT_NAME=uk-home-improvement-backup-vault
BACKUP_RETENTION_DAYS=30
BACKUP_COLD_STORAGE_DAYS=7

# ========================================
# Compliance Configuration
# ========================================
GDPR_ENABLED=true
DATA_RETENTION_DAYS=2555  # 7 years
AUDIT_LOG_RETENTION_DAYS=2555

# ========================================
# Development and Testing
# ========================================
# These should be false in production
DEBUG_MODE=false
MOCK_EXTERNAL_SERVICES=false
SKIP_EMAIL_VERIFICATION=false
ALLOW_TEST_PAYMENTS=false

# ========================================
# CDN Configuration
# ========================================
CLOUDFRONT_DISTRIBUTION_ID=EXXXXXXXXXXXXXXXXX
CLOUDFRONT_DOMAIN=d1234567890123.cloudfront.net

# ========================================
# Analytics and Tracking
# ========================================
# Add your analytics configuration here
# GOOGLE_ANALYTICS_ID=GA-XXXXXXXXX-X
# HOTJAR_ID=XXXXXXX
# MIXPANEL_TOKEN=XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX

# ========================================
# Third-party Integrations
# ========================================
# Companies House API
COMPANIES_HOUSE_API_KEY=your-companies-house-api-key

# Council APIs (add as needed)
# COUNCIL_API_ENDPOINTS=...

# ========================================
# Error Tracking
# ========================================
# SENTRY_DSN=https://...@sentry.io/...
# SENTRY_ENVIRONMENT=production

# ========================================
# Performance Monitoring
# ========================================
# NEW_RELIC_LICENSE_KEY=...
# NEW_RELIC_APP_NAME=UK Home Improvement Platform

# ========================================
# Security Headers
# ========================================
SECURITY_HEADERS_ENABLED=true
CSP_ENABLED=true
HSTS_ENABLED=true
X_FRAME_OPTIONS=DENY
X_CONTENT_TYPE_OPTIONS=nosniff